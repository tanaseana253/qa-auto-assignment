<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Substring Finder</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container-fluid" style="padding:48px">
  <h2 class="pb-3">Find Unique Substrings with n-1 Unique Characters</h2>

  <div class="row g-3 align-items-start mb-4" style="flex-direction: column;">
    <div class="col-md-2" style="width: 360px">
        <label for="inputString" class="form-label small">Enter a string:</label>
        <input type="text" id="inputString" class="form-control" style="width: 320px;"/><br />
    </div>
    <div class="col-md-2" style="width: 360px">
        <label for="inputNumber" class="form-label small">Enter a number:</label><br />
        <input type="number" id="inputNumber" min="2"class="form-control" style="width: 320px;"/><br />
    </div>
    <button class="btn btn-dark" style="width:320px; margin: 8px" onclick="handleFindSubstrings()">Find Substrings</button>
  </div>

  <div id="result"></div>

  <script>
    function findSubstringsWithNUniqueChars(origStr, n) {
      const result = new Set();
      const lowerStr = origStr.toLowerCase();

      for (let i = 0; i <= origStr.length - n; i++) {
        const substrOrig = origStr.substring(i, i + n);
        const substrLower = lowerStr.substring(i, i + n);
        const uniqueChars = new Set(substrLower);
        if (uniqueChars.size === n - 1) {
          result.add(substrOrig);
        }
      }

      return Array.from(result);
    }

    function handleFindSubstrings() {
      const origStr = document.getElementById("inputString").value.trim();
      const n = Number(document.getElementById("inputNumber").value.trim());
      const resultDiv = document.getElementById("result");

      resultDiv.innerHTML = "";
      resultDiv.style.color = "red";

      if (!origStr) {
        resultDiv.innerHTML = "Please enter a non-empty string.";
        return;
      }

      if (!Number.isInteger(n) || n <= 1) {
        resultDiv.innerHTML = "Please enter a valid whole number greater than 1.";
        return;
      }

      if (n > origStr.length) {
        resultDiv.innerHTML = "Number must not exceed the string length.";
        return;
      }

      const output = findSubstringsWithNUniqueChars(origStr, n);

      if (output.length === 0) {
        resultDiv.innerHTML = "No matching substrings found.";
      } else {
        resultDiv.innerHTML = `Found ${output.length} matching substring(s):<br>${output.join(", ")}`;
        resultDiv.style.color = "green";
      }
    }

  </script>
</body>
</html>